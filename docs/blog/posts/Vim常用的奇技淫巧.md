---
title: Vim有什么奇技淫巧？
date: 2025-03-27
authors: [KenForever1]
categories: 
  - 编程
labels: []
comments: true
---


朋友们，你们好呀！

不管是Vim还是Nvim，大家肯定都会用到吧！在自己的开发机上你的vim或许特别自定义改装过了。但是偶尔我们也会去一个临时服务器，装一个最简单的原生vim使用。

如果你熟悉了解Vim的一些小技巧，可以提高你的效率呢。那么，Vim有什么奇技淫巧？一起看看作者平时常用到的一些小技巧。

<!-- more -->
[TOC]

欢迎各位朋友分享补充你用到的小技巧！

## 跳转
+ :jumps
查看跳跃列表

+ \<C-o>
跳转到上一个位置，o可以理解为old
+ \<C-i>
和\<C-o>相对应配合使用，跳转方向相反

## 在插入模式下
（1）在插入模式下，为了快速删除，删除word，删除到行首等，可以使用：

+ \<C-u> 删除到行首
+ \<C-w> 向前删除一个word
+ \<C-h> 回退一个字符

（2）快速插入寄存器内容：
+ \<C-r>加上寄存器的名字，比如：\<C-r>a

（3）快速计算

比如编写图片处理程序，需要计算1080 * 1920 * 3的值，是不是要打开一个计算器，然后计算复制粘贴，这样太麻烦了。

就可以使用 \<C-r>= ，然后提示你输入一个表达式比如：1920 * 1080 * 3，就会自动插入计算结果，也可以使用pow函数等计算次方。

## 在Ex模式快速插入

在Ex模式下，如果需要将光标位置的长字符串插入Ex输入中，
执行：
```
# C表示按Ctrl键，<C-r>表示同时按Ctrl加r键
<C-r><C-w>
```

## 快速打开终端

+ \<C-z>配合fg命令使用

+ vim执行:ter，打开一个终端，然后exit退出

+ vim执行:sh，打开一个终端，然后exit退出

在term中执行了命令，比如cmake，发现打印了很多内容，现在如何scroll up，查看上方的内容呢？这时可以按\<C-w>\<S-n>就可以使用鼠标以及hjkl移动查看终端内容了。最后按 i 返回继续输入命令。
  
## quickfix窗口
  
+ :ccl[ose] 命令关闭窗口
+ :copen 命令打开窗口
  
## Ex模式提示输入

在Ex模式输入一部分字符后，忘记了命令，或者需要提示，按\<C-d>会出现提示。
  
## 文件跳转

+ 在ex模式，执行 :r !pwd 可以在光标位置输入当前路径。

+ 在normal模式，敲击 gf 可以跳转打开文件，如果文件路径有空格，先\<S-v>选中文件路径，再使用gf。当然也可以使用\<C-w>f 在另一个窗口打开文件。

## 打开文件的不同方式

+ vim -o * 使用n个横向窗口打开文件

+ vim -O * 使用n个纵向窗口（vertically）打开文件

+ vim -p * 将多个文件按照多个tab打开

## 自带的自动补全

+ \<C-n> 正序遍历提示项

+ \<C-p> 倒序遍历提示项
## 搜索

+ / 

+ ？

+ n next，p previous
+ q/ 会打开搜索历史记录列表，然后就可以快速选择搜索项，再次搜索。

## 加密文件
vim -x file.txt 键入两次密码确认，然后加密文件。

或者在ex模式，:X （注意是大写X）加密文件，或者两次回车解密文件，然后:wq保存。